@model MobileShop.Models.Seller

@{
    ViewData["Title"] = "Delete";
}

<h1>Delete</h1>
<hr />
@{
    List<SellerMobile> sellerMobiles = ViewData["sellerMobiles"] as List<SellerMobile>;
}
    @if (sellerMobiles.Count == 0)
    {

        <h3>Are you sure you want to delete this?</h3>
        <div>
            <h4>Seller</h4>
                    <hr />
                    <dl class="row">
                        <dt class = "col-sm-2">
                            @Html.DisplayNameFor(model => model.Name)
                        </dt>
                        <dd class = "col-sm-10">
                            @Html.DisplayFor(model => model.Name)
                        </dd>
                        <dt class = "col-sm-2">
                            @Html.DisplayNameFor(model => model.Address)
                        </dt>
                        <dd class = "col-sm-10">
                            @Html.DisplayFor(model => model.Address)
                        </dd>
                    </dl>
    
                    <form asp-action="Delete">
                        <input type="hidden" asp-for="Id" />
                        <input type="submit" value="Delete" class="btn btn-danger" /> |
                        <a asp-action="Index">Back to List</a>
                    </form>
         </div>
     }
     else
        {
            <h5 class="bg-warning" style="padding:5px; text-align:center;">Sorry! We cannot delete this Seller because he/she is registered as a salesman/co-salesman of Mobile(s)</h5>
            <table style="text-align:center;">
                <thead>
                    <tr>
                        <th>Mobile Name</th>
                        <th>Mobile Image</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var mobile in ViewData["mobiles"] as List<Mobile>)
                    {
                        foreach (var sellerMobile in sellerMobiles)
                        {
                            if (mobile.Id == sellerMobile.MobileId)
                            {
                                <tr>
                                    <td style="width:200px;">@mobile.Name</td>
                                    <td><img style="width:200px;" src="@mobile.Url" alt="@mobile.Name" /></td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
            <h5 class="bg-info" style="padding:5px; text-align:center;">Please delete/update these Mobiles before deletion of Seller.</h5>
        }